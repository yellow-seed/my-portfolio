name: Verify Codex Setup

on:
  workflow_dispatch:

jobs:
  verify-codex-setup:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6

      - name: Run codex-setup.sh
        run: |
          export CODEX_ENV_FILE="$GITHUB_ENV"
          bash .codex/hooks/codex-setup.sh

      - name: Verify installed tools
        run: |
          go version
          shellcheck --version
          shfmt --version
          actionlint --version
          node --version
          npx prettier --version
